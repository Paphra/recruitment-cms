/*! dyClockJS | (c) 2016 Yusuf Shakeel | https://github.com/yusufshakeel/dyClockJS */
!function(t,e){"use strict";var i=function(e,i){return"undefined"==typeof e?void t.console.error("target undefined"):("undefined"!=typeof i&&"undefined"!=typeof i.radius&&(i.radius=t.Math.ceil(i.radius),i.radius<30?i.radius=30:i.radius>this.defaults.radius&&(i.radius=this.defaults.radius)),this.target=e,this.targetPrefix=this.target.selector.substring(1),this.clockOption="undefined"!=typeof i?this.extendSource(i,this.defaults):this.defaults,this.tick=null,void this.setClockOptionFormat())};i.prototype.defaults={clock:"digital",format:"HH:mm:ss",digitalStyle:{backgroundColor:"#fff",border:"none",fontColor:"#000",fontFamily:"Arial",fontSize:16},hand:"hms",radius:150,showdigital:!1,image:!1,analogStyle:{backgroundColor:"#fff",border:"none",handsColor:{h:"#000",m:"#000",s:"#000"},handsWidth:{h:3,m:2,s:1},roundHands:!1,shape:"circle"}},i.prototype.extendSource=function(t,e){var i;for(i in e)t.hasOwnProperty(i)===!1&&(t[i]=e[i]);return t},i.prototype.setClockOptionFormat=function(){var t,e,i={},o=[];o=this.clockOption.format.split(" "),t=o[0].split(":"),e="undefined"!=typeof o[1]?o[1]:!1,"hh"===t[0]?i.hour="12":"HH"===t[0]&&(i.hour="24"),i.showMinutes=!0,i.showSeconds="undefined"!=typeof t[2]&&"ss"===t[2]?!0:!1,this.clockOption.format_time=i,e===!1?this.clockOption.format_showam=!1:(this.clockOption.format_showam=!0,this.clockOption.format_showamvalue="a"===e?["am","pm"]:["AM","PM"])},i.prototype.getTime=function(){var e=new t.Date,i={};return i.hour=e.getHours(),i.minute=e.getMinutes(),i.second=e.getSeconds(),i},i.prototype.getTimeString=function(e,i){var o,s="";switch(i.format_time.hour){case"12":0===e.hour?s="12 ":e.hour>12?(o=e.hour-12,s=10>o?"0"+o:o):s=e.hour<10?"0"+e.hour:e.hour;break;case"24":s=e.hour<10?"0"+e.hour:e.hour;break;default:t.console.error("Invalid format: hour")}return s=e.minute<10?s+" : 0"+e.minute:s+" : "+e.minute,i.format_time.showSeconds===!0&&(s=e.second<10?s+" : 0"+e.second:s+" : "+e.second),i.format_showam===!0&&(s=e.hour>=12?s+" "+i.format_showamvalue[1]:s+" "+i.format_showamvalue[0]),s},i.prototype.start=function(){var e=this;"digital"===this.clockOption.clock?(this.drawDigitalClock(),this.tick=t.setInterval(function(){e.runDigitalClock()},1e3)):"analog"===this.clockOption.clock&&(this.drawAnalogClock(),this.tick=t.setInterval(function(){e.runAnalogClock()},1e3))},i.prototype.stop=function(){t.clearInterval(this.tick)},i.prototype.drawDigitalClock=function(){var t;t="<div class='"+this.targetPrefix+"-digital-time-string dyclock-digital-time'></div>",this.target.html(t),this.styleDigitalClock()},i.prototype.styleDigitalClock=function(){var t,i=this,o=i.clockOption.digitalStyle;t=e("."+i.targetPrefix+"-digital-time-string"),"undefined"!=typeof o.backgroundColor?t.css("background-color",o.backgroundColor):t.css("background-color",i.defaults.digitalStyle.backgroundColor),"undefined"!=typeof o.border?t.css("border",o.border):t.css("border",i.defaults.digitalStyle.border),"undefined"!=typeof o.fontColor?t.css("color",o.fontColor):t.css("color",i.defaults.digitalStyle.fontColor),"undefined"!=typeof o.fontFamily?t.css("font-family",o.fontFamily):t.css("font-family",i.defaults.digitalStyle.fontFamily),"undefined"!=typeof o.fontSize?t.css("font-size",o.fontSize):t.css("font-size",i.defaults.digitalStyle.fontSize)},i.prototype.runDigitalClock=function(){var t=this.targetPrefix+"-digital-time-string";e("."+t).html(this.getTimeString(this.getTime(),this.clockOption))},i.prototype.drawAnalogClock=function(){var e,i=2*this.clockOption.radius,o=i,s=this.clockOption.radius,a=s,r=t.Math.ceil(.65*this.clockOption.radius),n=t.Math.ceil(.3*this.clockOption.radius),d=t.Math.ceil(.1*this.clockOption.radius),l=t.Math.ceil(.9*this.clockOption.radius),h="",c="";c=this.clockOption.showdigital===!0?"<div class='"+this.targetPrefix+"-digital-time-string dyclock-digital-time' style='text-align: center; margin-top: 15px;'></div>":"<div class='"+this.targetPrefix+"-digital-time-string dyclock-digital-time' style='display: none; text-align: center; margin-top: 15px;'></div>","undefined"!=typeof this.clockOption.image&&this.clockOption.image!==!1&&(h="style = 'background: url("+this.clockOption.image+"); background-repeat: no-repeat; background-size: contain;'"),e="<div class='dyclock-analog-time "+this.targetPrefix+"-analog-clock'"+h+"><svg width='"+i+"' height='"+o+"'><line class='"+this.targetPrefix+"-analog-hand "+this.targetPrefix+"-h-hand dyclock-h-hand' x1='"+s+"' y1='"+a+"' x2='"+s+"' y2='"+r+"'/><line class='"+this.targetPrefix+"-analog-hand "+this.targetPrefix+"-m-hand dyclock-m-hand' x1='"+s+"' y1='"+a+"' x2='"+s+"' y2='"+n+"'/><line class='"+this.targetPrefix+"-analog-hand "+this.targetPrefix+"-s-hand dyclock-s-hand' x1='"+s+"' y1='"+a+"' x2='"+s+"' y2='"+d+"'/><line class='"+this.targetPrefix+"-analog-hand "+this.targetPrefix+"-s-tail dyclock-s-tail' x1='"+s+"' y1='"+a+"' x2='"+s+"' y2='"+l+"'/></svg></div>"+c,this.target.html(e),this.styleDigitalClock(),this.styleAnalogClock()},i.prototype.styleAnalogClock=function(){var t=this,i=e("."+t.targetPrefix+"-analog-clock"),o=t.clockOption.analogStyle;"undefined"!=typeof o.backgroundColor?i.css("background-color",o.backgroundColor):i.css("background-color",t.defaults.analogStyle.backgroundColor),"undefined"!=typeof o.border?i.css("border",o.border):i.css("border",t.defaults.analogStyle.border),"undefined"!=typeof o.handsColor?("undefined"!=typeof o.handsColor.h?e("."+this.targetPrefix+"-h-hand").css("stroke",o.handsColor.h):e("."+this.targetPrefix+"-h-hand").css("stroke",t.defaults.analogStyle.handsColor.h),"undefined"!=typeof o.handsColor.m?e("."+this.targetPrefix+"-m-hand").css("stroke",o.handsColor.m):e("."+this.targetPrefix+"-m-hand").css("stroke",t.defaults.analogStyle.handsColor.m),"undefined"!=typeof o.handsColor.s?(e("."+this.targetPrefix+"-s-hand").css("stroke",o.handsColor.s),e("."+this.targetPrefix+"-s-tail").css("stroke",o.handsColor.s)):(e("."+this.targetPrefix+"-s-hand").css("stroke",t.defaults.analogStyle.handsColor.s),e("."+this.targetPrefix+"-s-tail").css("stroke",t.defaults.analogStyle.handsColor.s))):(e("."+this.targetPrefix+"-h-hand").css("stroke",t.defaults.analogStyle.handsColor.h),e("."+this.targetPrefix+"-m-hand").css("stroke",t.defaults.analogStyle.handsColor.m),e("."+this.targetPrefix+"-s-hand").css("stroke",t.defaults.analogStyle.handsColor.s),e("."+this.targetPrefix+"-s-tail").css("stroke",t.defaults.analogStyle.handsColor.s)),"undefined"!=typeof o.handsWidth?("undefined"!=typeof o.handsWidth.h?e("."+this.targetPrefix+"-h-hand").css("stroke-width",o.handsWidth.h):e("."+this.targetPrefix+"-h-hand").css("stroke-width",t.defaults.analogStyle.handsWidth.h),"undefined"!=typeof o.handsWidth.m?e("."+this.targetPrefix+"-m-hand").css("stroke-width",o.handsWidth.m):e("."+this.targetPrefix+"-m-hand").css("stroke-width",t.defaults.analogStyle.handsWidth.m),"undefined"!=typeof o.handsWidth.s?(e("."+this.targetPrefix+"-s-hand").css("stroke-width",o.handsWidth.s),e("."+this.targetPrefix+"-s-tail").css("stroke-width",o.handsWidth.s)):(e("."+this.targetPrefix+"-s-hand").css("stroke-width",t.defaults.analogStyle.handsWidth.s),e("."+this.targetPrefix+"-s-tail").css("stroke-width",t.defaults.analogStyle.handsWidth.s))):(e("."+this.targetPrefix+"-h-hand").css("stroke-width",t.defaults.analogStyle.handsWidth.h),e("."+this.targetPrefix+"-m-hand").css("stroke-width",t.defaults.analogStyle.handsWidth.m),e("."+this.targetPrefix+"-s-hand").css("stroke-width",t.defaults.analogStyle.handsWidth.s),e("."+this.targetPrefix+"-s-tail").css("stroke-width",t.defaults.analogStyle.handsWidth.s)),"undefined"!=typeof o.roundHands&&o.roundHands===!0&&e("."+this.targetPrefix+"-analog-hand").css("stroke-linecap","round"),"undefined"!=typeof o.shape&&"circle"===o.shape&&i.css("border-radius","50%")},i.prototype.runAnalogClock=function(){var t=this.getTime(),i=30*(t.hour%12+t.minute/60),o=6*t.minute,s=6*t.second;e("."+this.targetPrefix+"-h-hand").attr("transform",this.getRotateStr(i)),e("."+this.targetPrefix+"-m-hand").attr("transform",this.getRotateStr(o)),e("."+this.targetPrefix+"-s-hand").attr("transform",this.getRotateStr(s)),e("."+this.targetPrefix+"-s-tail").attr("transform",this.getRotateStr(s+180)),e("."+this.targetPrefix+"-digital-time-string").html(this.getTimeString(this.getTime(),this.clockOption))},i.prototype.getRotateStr=function(t){var e=(2*this.clockOption.radius,this.clockOption.radius),i=e;return"rotate("+t+", "+e+", "+i+")"},t.dyClock=i}("undefined"!=typeof window?window:this,"undefined"!=typeof jQuery?jQuery:void 0);
